# js数据类型判断的几种方式

## typeof

- typeof 操作符返回一个字符串，表示未经计算的操作数的类型
- typeof区分不出来对象，比如null,[],{},new String()，正则判断出来都为object类型
- 块级作用域会导致暂时性死区，导致typeof类型判断可能会出错
- [mdn typeof](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/typeof)

```javascript
console.log(typeof 1) // number
console.log(typeof 'xcc') // string
console.log(typeof true)  // boolean
console.log(typeof null)  // object
console.log(typeof undefined) // undefined
console.log(typeof Symbol())  // symbol
console.log(typeof new Object())  // object
console.log(typeof new Array()) // object
console.log(typeof function(){})  // function

// Number
console.log(typeof Infinity)  // number
console.log(typeof NaN) // number
console.log(typeof 42n) // bigint
console.log(typeof Number(1)) // number
console.log(typeof new Number(1)) // object

// String
console.log(typeof '')  // string
console.log(typeof String(1)) // string
console.log(typeof new String(1)) // object

// Boolean
console.log(typeof true)  // boolean
console.log(typeof Boolean(true)) // boolean
console.log(typeof new Boolean(1)) // object

// Symbol
console.log(typeof Symbol())  // symbol
console.log(typeof Symbol('xcc')) // symbol

// Undefined
console.log(typeof a === undefined)  // false

// 对象
console.log(typeof { a: 1 })  // object

console.log(typeof new Date()) // object
console.log(typeof /regex/) // object

console.log(typeof class M{}) // object
console.log(typeof Math.sin)  // function
```

```javascript
console.log(typeof a) // ReferenceError
let a
```

## instanceof

- instanceof 运算符用于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链上
- 基于原型链来判断类型
- 适用于引用类型
- [mdn instanceof](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/instanceof)

```javascript
console.log(20 instanceof Object) // false
```

```javascript
function Test() {}
const func = new Test()
console.log(func instanceof Test) // true
```

```javascript
let str = new String()
let date = new Date()
console.log(str instanceof String)  // true
console.log(date instanceof Date) // true
```

## Object.prototype.toString

- toString() 方法返回一个表示该对象的字符串
- [mdn Object.prototype.toString](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/toString)

```javascript
const toString = Object.prototype.toString

console.log(toString.call(null))  // [object Null]
console.log(toString.call(undefined)) // [object Undefined]

console.log(toString.call(new String()))  // [object String]
console.log(toString.call(new Date()))  // [object Date]
console.log(toString.call(Math))  // [object Math]
console.log(toString.call(/regex/)) // [object RegExp]

console.log(toString.call(1)) // [object Number]
console.log(toString.call('xcc')) // [object String]
console.log(toString.call(true))  // [object Boolean]

console.log(toString.call({}))  // [object Object]
console.log(toString.call([]))  // [object Array]
console.log(toString.call(function(){}))  // [object Function]
```
